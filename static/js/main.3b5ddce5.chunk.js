(this["webpackJsonpsocial-app"]=this["webpackJsonpsocial-app"]||[]).push([[0],{37:function(e,n,t){e.exports=t.p+"static/media/logo.1e7bd107.png"},44:function(e,n,t){e.exports=t(73)},49:function(e,n,t){},73:function(e,n,t){"use strict";t.r(n);var a=t(0),o=t.n(a),r=t(36),i=t.n(r),c=(t(49),t(11)),l=t(12),s=t(14),u=t(13),p=t(2),m=t(10),f=t.n(m),d=t(3),g=t(37),h=t.n(g),b=t(38);function v(){var e=Object(p.a)(["\ncolor: #1A181D;\n"]);return v=function(){return e},e}function E(){var e=Object(p.a)(["\ncolor: #ff3b80;\nfont-size: 20px;\n"]);return E=function(){return e},e}function k(){var e=Object(p.a)(["\nbackground-color: transparent;\nborder: none;\ndisplay: inline-block;\n\n&:focus {\n    outline: none;\n}\n"]);return k=function(){return e},e}function j(){var e=Object(p.a)(["\ndisplay: flex;\n\n"]);return j=function(){return e},e}var w=d.a.div(j()),S=d.a.button(k()),O=Object(d.a)(b.a)(E()),x=d.a.p(v()),y=function(e){Object(s.a)(t,e);var n=Object(u.a)(t);function t(e){var a;return Object(c.a)(this,t),(a=n.call(this,e)).addLike=function(){a.setState((function(e){var n=e.like;return!1===a.state.likeState?(n+=1,a.setState({likeState:!0})):(n-=1,a.setState({likeState:!1})),{like:n}})),console.log(a.state.like),console.log(a.props)},a.state={like:0,likeState:!1},a}return Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(w,null,o.a.createElement(x,null,this.state.like," "),o.a.createElement(S,{type:"submit",onClick:this.addLike},o.a.createElement(O,{icon:"heart"}))))}}]),t}(a.Component);function I(){var e=Object(p.a)(["\nflex-basis: 90%;\n"]);return I=function(){return e},e}function C(){var e=Object(p.a)(["\nflex-basis: 10%;\n"]);return C=function(){return e},e}function N(){var e=Object(p.a)(["\nbackground-color: #a538ff;\nborder: 0;\nborder-radius: 20px; \nmargin-left: 40px;\npadding: 10px;\ncolor: #fff;\nfont-family: 'Inconsolata', monospace;\ntransition: all 0.7s;\n\n&:hover {\n    background-color: #892dcf;\n    cursor: pointer;\n}\n\n&:focus {\n    outline: none;\n}\n"]);return N=function(){return e},e}function z(){var e=Object(p.a)(["\nbackground-color: #fefcff;\nborder: 0;\nwidth: 70%;\npadding: 20px 0;\nmargin: 0 40px 30px 40px;\nfont-size: 20px;\ncolor: #1A181D; \nfont-family: 'Inconsolata', monospace;\n\n&:hover{\n    cursor: pointer;\n    background-color: #f2f1f2;\n}\n\n&:focus {\n    outline: none;\n}\n"]);return z=function(){return e},e}function A(){var e=Object(p.a)(["\npadding: 20px;\nfont-family: 'Inconsolata', monospace;\nmargin: 30px 0;\nborder-bottom: 1px solid #dfdae1;\nbackground-color: #fefcff;\ntext-align: justify;\n"]);return A=function(){return e},e}function M(){var e=Object(p.a)(["\nlist-style-type: none;\npadding: 0 40px;\nwidth: 70%;\n"]);return M=function(){return e},e}function R(){var e=Object(p.a)(["\ndisplay: flex;\n\n"]);return R=function(){return e},e}function T(){var e=Object(p.a)(["\ntext-align: center;\nfont-family: 'Inconsolata', monospace;\npadding: 40px;\ncolor: #1A181D;\nfont-weight: 500;\n"]);return T=function(){return e},e}var _=d.a.h1(T()),P=d.a.div(R()),D=d.a.ul(M()),L=d.a.li(A()),J=d.a.button(z()),H=d.a.button(N()),B=d.a.div(C()),F=d.a.div(I()),$=function(e){Object(s.a)(t,e);var n=Object(u.a)(t);function t(){var e;return Object(c.a)(this,t),(e=n.call(this)).setFilter=function(){e.setState({filter:!0})},e.getPost=function(){f.a.post("https://akademia108.pl/api/social-app/post/latest",{},{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(n){console.log("RESPONSE RECEIVED: ",n.data),e.setState({feeds:n.data})})).catch((function(e){console.log("AXIOS ERROR: ",e)}))},e.showMore=function(){f.a.post("https://akademia108.pl/api/social-app/post/latest",{},{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(n){n.data.forEach((function(n){e.state.feeds.push(n)})),console.log(e.state.feeds),e.setState({feeds:e.state.feeds})})).catch((function(e){console.log("AXIOS ERROR: ",e)}))},e.getPostNew=function(){f.a.post("https://akademia108.pl/api/social-app/post/older-then",{date:Date.now()},{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(n){console.log("RESPONSE RECEIVED NEWPOST: ",n.data),e.setState({feeds:n.data})})).catch((function(e){console.log("AXIOS ERROR: ",e)}))},e.getRecommendations=function(){e.user=JSON.parse(localStorage.getItem("user"));var n={"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer "+e.user.jwt_token};f.a.post("https://akademia108.pl/api/social-app/follows/recommendations",{},{headers:n}).then((function(e){console.log("RESPONSE RECEIVED RECOMMENDATIONS: ",e.data)})).catch((function(e){console.log("AXIOS ERROR: ",e)}))},e.state={feeds:[],filter:!1},e}return Object(l.a)(t,[{key:"componentDidMount",value:function(){if(this.user=JSON.parse(localStorage.getItem("user")),this.getPost(),!this.user)return!1;this.getRecommendations()}},{key:"render",value:function(){var e=this;JSON.parse(localStorage.getItem("user"));return o.a.createElement(o.a.Fragment,null,o.a.createElement(_,null,"Home"),o.a.createElement(P,null,o.a.createElement(F,{className:"feed"},o.a.createElement(H,{onClick:this.setFilter},"New posts"),o.a.createElement(D,null,this.state.feeds.map((function(n){return o.a.createElement(L,{key:n.id}," ",n.content," ",o.a.createElement("br",null),o.a.createElement(y,{likeValue:e.state.feeds.map((function(e){return e.likes}))}))}))),o.a.createElement(J,{onClick:this.showMore},"Show More")),o.a.createElement(B,{className:"recommendations"},o.a.createElement(D,null))))}}]),t}(a.Component),U=t(20);function V(){var e=Object(p.a)(["\ncolor: red;\nfont-size: 13px;\ntext-align: center;\nmargin: 10px;\n"]);return V=function(){return e},e}function W(){var e=Object(p.a)(["\ndisplay: block;\nmargin: 0 auto;\npadding: 10px 50px;\nbackground-color: #a538ff;\ncolor: white;\nborder: 0; \nborder-radius: 20px;\ntransition: all 0.7s;\n\n&:hover {\n    background-color: #892dcf;\n    cursor: pointer;\n}\n\n&:focus {\n    outline: none;\n"]);return W=function(){return e},e}function X(){var e=Object(p.a)(["\ndisplay: block;\nmargin: 20px auto;\npadding: 10px 40px 10px 10px;\nborder: 0;\nborder-bottom: 1px solid grey;\n&:focus {\n    border: 0;\n    border-bottom: 1px solid grey;\n    outline: 0;\n}\n"]);return X=function(){return e},e}function Z(){var e=Object(p.a)(["\ntext-align: center;\nfont-family: 'Inconsolata', monospace;\npadding: 40px;\ncolor: #1A181D;\nfont-weight: 500;\n"]);return Z=function(){return e},e}var q=d.a.h1(Z()),G=d.a.input(X()),K=d.a.button(W()),Q=d.a.p(V()),Y=function(e){Object(s.a)(t,e);var n=Object(u.a)(t);function t(e){var a;return Object(c.a)(this,t),(a=n.call(this,e)).inputChange=function(e){a.setState(Object(U.a)({},e.target.name,e.target.value))},a.validate=function(e){e.preventDefault();var n={username:a._newNameInput.value,email:a._newEmailInput.value,password:a._newPasswordInput.value},t=!0,o=/^(?=.*\d)(?=.*[a-z])(?=.*[\!\@\#\$\%])(?!.*\s).{6,}$/.test(a._newPasswordInput.value);""===a._newNameInput.value||""===a._newEmailInput.value?(console.log("Puste pola"),t=!0,a.setState({errMsg:"Wprowad\u017c imi\u0119 i e-mail"})):a._newNameInput.value.length<4?(console.log("Min 4 znaki w Name"),t=!0,a.setState({errMsg:"Imi\u0119 musi zawiera\u0107 min. 4 litery"})):a._newNameInput.value.includes(" ")?(console.log("Bia\u0142e znaki w polu Name"),t=!0,a.setState({errMsg:"Imi\u0119 nie mo\u017ce zawiera\u0107 spacji"})):a._newPasswordInput.value.length<6?(console.log("Za kr\xf3tkie has\u0142o"),t=!0,a.setState({errMsg:"Za kr\xf3tkie has\u0142o"})):o?a._newPasswordInput.value!==a._confirmPasswordInput.value?(console.log("Has\u0142a musz\u0105 by\u0107 identyczne"),t=!0,a.setState({errMsg:"Has\u0142a nie s\u0105 identyczne"})):t=!1:(console.log("Has\u0142o musi zawiera\u0107 conajmniej 1 cyfr\u0119 i 1 znak specjalny (!, #, @, $, %)"),t=!0,a.setState({errMsg:"Has\u0142o musi zawiera\u0107 conajmniej 1 cyfr\u0119 i 1 znak specjalny (!, #, @, $, %)"})),!1===t?a.createUser(n):console.log("B\u0142\u0105d w formularzu")},a.createUser=function(e){f.a.post("http://akademia108.pl/api/social-app/user/signup",JSON.stringify(e),{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){a.props.setToken(e.data.jwt_token),a.setState({username:"",email:"",password:"",confirm:""}),console.log(e.data)})).catch((function(e){console.error(e)}))},a.state={username:"",email:"",password:"",confirm:"",errMsg:""},a}return Object(l.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement(o.a.Fragment,null,o.a.createElement(q,null,"Stw\xf3rz Nowy Profil"),o.a.createElement("form",{onSubmit:this.validate},o.a.createElement(G,{ref:function(n){return e._newNameInput=n},onChange:this.inputChange,value:this.state.username,name:"username",type:"text",placeholder:"Imie (min. 4 znaki)*"}),o.a.createElement(G,{ref:function(n){return e._newEmailInput=n},onChange:this.inputChange,value:this.state.email,name:"email",type:"email",placeholder:"E-mail"}),o.a.createElement(G,{ref:function(n){return e._newPasswordInput=n},onChange:this.inputChange,value:this.state.password,name:"password",type:"password",placeholder:"Has\u0142o (min. 6 znak\xf3w)*"}),o.a.createElement(G,{ref:function(n){return e._confirmPasswordInput=n},onChange:this.inputChange,value:this.state.confirm,name:"confirm",type:"password",placeholder:"Powt\xf3rz has\u0142o"}),o.a.createElement(K,{type:"submit"},"Sign Up"),o.a.createElement(Q,null,this.state.errMsg)))}}]),t}(a.Component);function ee(){var e=Object(p.a)(["\ntext-align: center;\ncolor:red;\nfont-size: 13px;\n"]);return ee=function(){return e},e}function ne(){var e=Object(p.a)(["\ndisplay: block;\nmargin: 0 auto;\npadding: 10px 50px;\nbackground-color: #a538ff;\ncolor: white;\nborder: 0;\nborder-radius: 20px; \ntransition: all 0.7s;\n&:hover {\n    background-color: #892dcf;\n    cursor: pointer;\n}\n\n&:focus {\n    outline: none;\n"]);return ne=function(){return e},e}function te(){var e=Object(p.a)(["\ndisplay: block;\nmargin: 20px auto;\npadding: 10px 40px 10px 10px;\nborder: 0;\nborder-bottom: 1px solid grey;\n&:focus {\n    border: 0;\n    border-bottom: 1px solid grey;\n    outline: 0;\n}\n"]);return te=function(){return e},e}function ae(){var e=Object(p.a)(["\ntext-align: center;\nfont-family: 'Inconsolata', monospace;\npadding: 40px;\ncolor: #1A181D;\nfont-weight: 500;\n"]);return ae=function(){return e},e}var oe=d.a.h1(ae()),re=d.a.input(te()),ie=d.a.button(ne()),ce=d.a.p(ee()),le=function(e){Object(s.a)(t,e);var n=Object(u.a)(t);function t(e){var a;return Object(c.a)(this,t),(a=n.call(this,e)).inputChange=function(e){a.setState(Object(U.a)({},e.target.name,e.target.value))},a.logInMethod=function(e){e.preventDefault();var n={username:a.state.username,password:a.state.password,ttl:3600},t={"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer "+o.a.createElement("jwtToken",null)};f.a.post("https://akademia108.pl/api/social-app/user/login",JSON.stringify(n),{headers:t}).then((function(e){void 0===e.data.jwt_token?a.setState((function(e){return{errorMsg:"*Nieprawid\u0142owe has\u0142o lub login"}})):(a.props.setToken(e.data.jwt_token),localStorage.setItem("user",JSON.stringify(e.data)),a.props.changeLoginState(!0),console.log(e.data))})).catch((function(e){console.error(e)}))},a.state={username:" ",password:" ",errorMsg:" "},a}return Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(oe,null,"Zaloguj Si\u0119"),o.a.createElement("form",{onSubmit:this.logInMethod},o.a.createElement(re,{onChange:this.inputChange,name:"username",type:"text",placeholder:"Imi\u0119"}),o.a.createElement(re,{onChange:this.inputChange,name:"password",type:"password",placeholder:"Has\u0142o"}),o.a.createElement(ie,{type:"submit"},"Log In"),o.a.createElement(ce,null,this.state.errorMsg)))}}]),t}(a.Component);function se(){var e=Object(p.a)(["\ntext-align: center;\n"]);return se=function(){return e},e}var ue=d.a.h1(se()),pe=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(ue,null))},me=t(23),fe=t(4);function de(){var e=Object(p.a)(["\ntext-decoration: none;\ncolor:white;\ntext-transform: uppercase;\n"]);return de=function(){return e},e}function ge(){var e=Object(p.a)(["\ndisplay: inline-block;\npadding: 30px 30px;\n"]);return ge=function(){return e},e}function he(){var e=Object(p.a)(["\nheight: 60px;\nposition: absolute;\nleft: 150px;\nbottom: -5px;\npadding: 20px\n"]);return he=function(){return e},e}function be(){var e=Object(p.a)(["\nlist-style: none;\nposition: relative;\nbackground-color: #a538ff;\ncolor: white;\ntext-align: center;\nmargin: 0;\n"]);return be=function(){return e},e}var ve=d.a.ul(be()),Ee=d.a.img(he()),ke=d.a.li(ge()),je=Object(d.a)(me.b)(de()),we=function(e){Object(s.a)(t,e);var n=Object(u.a)(t);function t(){var e;return Object(c.a)(this,t),(e=n.call(this)).setSessionState=function(n){localStorage.setItem("token",n),e.setState({sessionToken:n})},e.setNameState=function(n){localStorage.setItem("username",n),e.setState({username:n})},e.logOut=function(){e.user=JSON.parse(localStorage.getItem("user"));var n={"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer "+e.user.jwt_token};f.a.post("https://akademia108.pl/api/social-app/user/logout",{},{headers:n}).then((function(n){e.setState({sessionToken:""}),localStorage.clear(),e.setLogin(!1),console.log(n.data)})).catch((function(e){console.error(e)}))},e.setLogin=function(n){e.setState((function(e){return{login:n}}))},e.state={login:!!e.user,username:"",email:"",sessionToken:""},e}return Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("token");e&&!this.state.sessionToken&&this.setState({sessionToken:e})}},{key:"render",value:function(){var e=JSON.parse(localStorage.getItem("user"));return o.a.createElement(me.a,null,o.a.createElement("div",{className:"App"},o.a.createElement("nav",null,o.a.createElement(ve,null,o.a.createElement(Ee,{src:h.a,className:"App-logo",alt:"logo"}),o.a.createElement(ke,null,o.a.createElement(je,{to:"/"},"Home")),void 0===localStorage.token&&o.a.createElement(ke,null,o.a.createElement(je,{to:"/signup"},"Sign Up")),!e&&o.a.createElement(ke,null,o.a.createElement(je,{to:"/login"},"LogIn")),e&&o.a.createElement(ke,null,o.a.createElement(je,{to:"/",onClick:this.logOut},"LogOut"))))),o.a.createElement(fe.d,null,o.a.createElement(fe.b,{exact:!0,path:"/"},o.a.createElement($,{token:this.state.sessionToken})),o.a.createElement(fe.b,{path:"/signup"},this.state.login?o.a.createElement(fe.a,{to:"/"}):o.a.createElement(Y,{setToken:this.setSessionState,changeLoginState:this.setLogin})),o.a.createElement(fe.b,{path:"/login"},this.state.login?o.a.createElement(fe.a,{to:"/"}):o.a.createElement(le,{setToken:this.setSessionState,changeLoginState:this.setLogin})),o.a.createElement(fe.b,{path:"/"},o.a.createElement(pe,null))))}}]),t}(a.Component),Se=t(17),Oe=t(42),xe=t(43);Se.b.add(Oe.a,xe.a);var ye=function(){return o.a.createElement(we,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(72);i.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(ye,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[44,1,2]]]);
//# sourceMappingURL=main.3b5ddce5.chunk.js.map